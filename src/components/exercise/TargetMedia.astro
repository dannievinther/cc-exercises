---
// import { Image } from "astro:assets";
import { Picture } from "astro:assets";
const { index, image, video } = Astro.props;
---

{
  video ? (
    <video muted loop autoplay playsinline preload="metadata">
      <source src={video} type="video/mp4" />
    </video>
  ) : (
    <Picture
      src={image}
      alt=""
      loading={index === 1 ? "eager" : "lazy"}
      fetchpriority={index === 1 ? "high" : "low"}
      format="avif"
      formats={["avif", "webp"]}
    />
  )
}

<style>
  :global(picture) {
    padding-inline: calc(var(--space-1) / 2);
  }
  img {
    background: #f1eef5;
  }
</style>
